<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SoleStats - Subscription Plans</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #00C35A; /* StockX green */
      --primary-dark: #00A049;
      --text-color: #212529;
      --body-bg: #F7F7F7;
      --card-bg: #FFFFFF;
      --border-color: #DEE2E6;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--body-bg);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .navbar {
      background-color: #212529;
    }
    
    .navbar-brand {
      font-weight: 700;
      letter-spacing: -0.5px;
    }
    
    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-right: 10px;
    }
    
    .section-title {
      font-weight: 700;
      margin-bottom: 1.5rem;
    }
    
    .subscription-card {
      border: none;
      border-radius: 8px;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      height: 100%;
    }
    
    .subscription-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .subscription-card.popular {
      border: 2px solid var(--primary);
      position: relative;
    }
    
    .popular-badge {
      position: absolute;
      top: 0;
      right: 1.5rem;
      background-color: var(--primary);
      color: white;
      font-size: 0.75rem;
      font-weight: 600;
      padding: 0.35rem 0.75rem;
      border-radius: 0 0 0.5rem 0.5rem;
    }
    
    .card-header {
      background-color: white;
      padding: 1.5rem;
      border-bottom: 1px solid var(--border-color);
    }
    
    .plan-title {
      font-weight: 700;
      margin-bottom: 0.5rem;
      font-size: 1.5rem;
    }
    
    .plan-description {
      color: #6c757d;
      margin-bottom: 0;
    }
    
    .plan-price {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0;
      color: var(--primary-dark);
    }
    
    .price-period {
      font-size: 1rem;
      color: #6c757d;
      margin-left: 0.5rem;
      font-weight: normal;
    }
    
    .yearly-price {
      font-size: 0.9rem;
      color: #6c757d;
    }
    
    .yearly-price strong {
      color: var(--primary);
    }
    
    .feature-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .feature-list li {
      padding: 0.75rem 0;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .feature-list li:last-child {
      border-bottom: none;
    }
    
    .feature-icon {
      color: var(--primary);
      margin-right: 0.75rem;
    }
    
    .btn-subscribe {
      background-color: var(--primary);
      border-color: var(--primary);
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
    }
    
    .btn-subscribe:hover {
      background-color: var(--primary-dark);
      border-color: var(--primary-dark);
    }
    
    .btn-outline-subscribe {
      border-color: var(--primary);
      color: var(--primary);
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
    }
    
    .btn-outline-subscribe:hover {
      background-color: var(--primary);
      color: white;
    }
    
    .highlight {
      background-color: #f8faff;
    }
    
    .inventory-limit {
      font-size: 0.9rem;
      margin-top: 0.5rem;
      color: #6c757d;
    }
    
    .inventory-limit strong {
      color: var(--text-color);
    }
    
    .comparison-table {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    
    .comparison-table th, .comparison-table td {
      padding: 1rem;
    }
    
    .comparison-head {
      background-color: #f8f9fa;
    }
    
    .footer {
      margin-top: auto;
      background-color: #212529;
      color: white;
      padding: 2rem 0;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand" href="/"><i class="fas fa-check-circle me-2"></i>SOLESTATS</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/dashboard">Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/add">Add Product</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/scanner">Scanner</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="/subscription">Plans</a>
          </li>
        </ul>
        <div class="d-flex align-items-center" id="userSection">
          <!-- User will be shown here when logged in -->
          <a href="/login" class="btn btn-outline-light btn-sm" id="loginBtn">Login</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Subscription Plans Section -->
  <div class="container my-5">
    <div class="text-center mb-5">
      <h1 class="section-title">Choose Your SoleStats Plan</h1>
      <p class="text-muted">Select the plan that best fits your sneaker collection needs</p>
    </div>

    <!-- Pricing Toggle -->
    <div class="d-flex justify-content-center mb-5">
      <div class="form-check form-switch form-check-inline">
        <input class="form-check-input" type="checkbox" id="billingToggle">
        <label class="form-check-label" for="billingToggle">
          <span id="monthlyLabel" class="fw-bold">Monthly</span>
          <span class="mx-2">/</span>
          <span id="yearlyLabel">Yearly (Save 17%)</span>
        </label>
      </div>
    </div>

    <!-- Subscription Cards -->
    <div class="row g-4">
      <!-- Basic Plan -->
      <div class="col-md-4">
        <div class="subscription-card card h-100">
          <div class="card-header text-center">
            <h3 class="plan-title">Basic</h3>
            <p class="plan-description">For casual collectors</p>
            <p class="plan-price mb-0">Free<span class="price-period">/mo</span></p>
            <p class="yearly-price mt-2">$0/year</p>
            <p class="inventory-limit">Up to <strong>25 sneakers</strong></p>
          </div>
          <div class="card-body">
            <ul class="feature-list">
              <li><i class="fas fa-check feature-icon"></i>Basic inventory management</li>
              <li><i class="fas fa-check feature-icon"></i>Manual barcode scanning</li>
              <li><i class="fas fa-check feature-icon"></i>Basic profit/loss tracking</li>
              <li><i class="fas fa-check feature-icon"></i>Limited market price lookups (5/day)</li>
              <li class="text-muted"><i class="fas fa-times feature-icon"></i>Advanced analytics</li>
              <li class="text-muted"><i class="fas fa-times feature-icon"></i>Price history tracking</li>
              <li class="text-muted"><i class="fas fa-times feature-icon"></i>Export capabilities</li>
            </ul>
          </div>
          <div class="card-footer bg-white border-0 text-center pb-4">
            <button class="btn btn-outline-subscribe w-100" id="basicPlanBtn">Get Started</button>
          </div>
        </div>
      </div>

      <!-- Premium Plan -->
      <div class="col-md-4">
        <div class="subscription-card card h-100 popular">
          <div class="popular-badge">POPULAR</div>
          <div class="card-header text-center">
            <h3 class="plan-title">Premium</h3>
            <p class="plan-description">For serious collectors</p>
            <p class="plan-price mb-0">$9.99<span class="price-period monthly-period">/mo</span></p>
            <p class="yearly-price mt-2">$99.99/year <strong>(Save $19.89)</strong></p>
            <p class="inventory-limit">Up to <strong>250 sneakers</strong></p>
          </div>
          <div class="card-body">
            <ul class="feature-list">
              <li><i class="fas fa-check feature-icon"></i>Everything in Basic</li>
              <li><i class="fas fa-check feature-icon"></i>Advanced analytics dashboard</li>
              <li><i class="fas fa-check feature-icon"></i>Price history tracking and charts</li>
              <li><i class="fas fa-check feature-icon"></i>Unlimited barcode scanning</li>
              <li><i class="fas fa-check feature-icon"></i>Automatic price monitoring</li>
              <li><i class="fas fa-check feature-icon"></i>Profit/loss projections</li>
              <li><i class="fas fa-check feature-icon"></i>Export capabilities (CSV, PDF)</li>
              <li><i class="fas fa-check feature-icon"></i>Email alerts for price changes</li>
            </ul>
          </div>
          <div class="card-footer bg-white border-0 text-center pb-4">
            <button class="btn btn-subscribe w-100" id="premiumPlanBtn">Subscribe Now</button>
          </div>
        </div>
      </div>

      <!-- Business Plan -->
      <div class="col-md-4">
        <div class="subscription-card card h-100">
          <div class="card-header text-center">
            <h3 class="plan-title">Business</h3>
            <p class="plan-description">For resellers and stores</p>
            <p class="plan-price mb-0">$24.99<span class="price-period">/mo</span></p>
            <p class="yearly-price mt-2">$249.99/year <strong>(Save $49.89)</strong></p>
            <p class="inventory-limit"><strong>Unlimited</strong> sneakers</p>
          </div>
          <div class="card-body">
            <ul class="feature-list">
              <li><i class="fas fa-check feature-icon"></i>Everything in Premium</li>
              <li><i class="fas fa-check feature-icon"></i>Multi-user accounts</li>
              <li><i class="fas fa-check feature-icon"></i>Advanced sales forecasting</li>
              <li><i class="fas fa-check feature-icon"></i>Bulk operations (import/export)</li>
              <li><i class="fas fa-check feature-icon"></i>Integration with marketplaces</li>
              <li><i class="fas fa-check feature-icon"></i>Purchase order management</li>
              <li><i class="fas fa-check feature-icon"></i>Customer database</li>
              <li><i class="fas fa-check feature-icon"></i>ROI calculators</li>
            </ul>
          </div>
          <div class="card-footer bg-white border-0 text-center pb-4">
            <button class="btn btn-outline-subscribe w-100" id="businessPlanBtn">Subscribe Now</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Feature Comparison Table -->
    <div class="my-5">
      <h2 class="section-title text-center mb-4">Feature Comparison</h2>
      <div class="table-responsive comparison-table">
        <table class="table table-hover mb-0">
          <thead class="comparison-head">
            <tr>
              <th>Feature</th>
              <th class="text-center">Basic</th>
              <th class="text-center">Premium</th>
              <th class="text-center">Business</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Inventory Limit</td>
              <td class="text-center">25</td>
              <td class="text-center">250</td>
              <td class="text-center">Unlimited</td>
            </tr>
            <tr>
              <td>Barcode Scanning</td>
              <td class="text-center">Manual</td>
              <td class="text-center">Unlimited</td>
              <td class="text-center">Unlimited</td>
            </tr>
            <tr>
              <td>Market Price Lookups</td>
              <td class="text-center">5/day</td>
              <td class="text-center">Unlimited</td>
              <td class="text-center">Unlimited</td>
            </tr>
            <tr>
              <td>Analytics Dashboard</td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
            </tr>
            <tr>
              <td>Price History Tracking</td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
            </tr>
            <tr>
              <td>Export Capabilities</td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
            </tr>
            <tr>
              <td>Multi-user Access</td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
            </tr>
            <tr>
              <td>Marketplace Integration</td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-times text-danger"></i></td>
              <td class="text-center"><i class="fas fa-check text-success"></i></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="my-5">
      <h2 class="section-title text-center mb-4">Frequently Asked Questions</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="mb-3">Can I change my plan later?</h5>
              <p class="mb-0">Yes, you can upgrade or downgrade your plan at any time. When upgrading, you'll be charged the prorated amount for the remainder of your billing period. When downgrading, the new rate will apply at the start of your next billing period.</p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="mb-3">What happens if I exceed my inventory limit?</h5>
              <p class="mb-0">You'll be notified when you reach 90% of your inventory limit. If you exceed your limit, you won't be able to add new sneakers until you either remove some from your inventory or upgrade to a higher-tier plan.</p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="mb-3">Is there a free trial for Premium or Business plans?</h5>
              <p class="mb-0">Yes, we offer a 14-day free trial for both Premium and Business plans. You can cancel anytime during the trial period without being charged.</p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="mb-3">What payment methods do you accept?</h5>
              <p class="mb-0">We accept all major credit cards, including Visa, Mastercard, American Express, and Discover. We also accept PayPal for subscription payments.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer mt-auto">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h5>SOLESTATS</h5>
          <p>The ultimate sneaker inventory management solution</p>
        </div>
        <div class="col-md-6 text-md-end">
          <p class="mb-0">&copy; 2025 SoleStats. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript Libraries -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    $(document).ready(function() {
      // Toggle between monthly and yearly pricing
      $('#billingToggle').change(function() {
        if($(this).is(':checked')) {
          // Show yearly pricing
          $('#yearlyLabel').addClass('fw-bold');
          $('#monthlyLabel').removeClass('fw-bold');
          $('.monthly-period').text('/year');
          // Could update prices here if needed
        } else {
          // Show monthly pricing
          $('#monthlyLabel').addClass('fw-bold');
          $('#yearlyLabel').removeClass('fw-bold');
          $('.monthly-period').text('/mo');
          // Could update prices here if needed
        }
      });
      
      // Plan selection
      $('#basicPlanBtn').click(function() {
        window.location.href = '/api/subscriptions/select/1';
      });
      
      $('#premiumPlanBtn').click(function() {
        window.location.href = '/api/subscriptions/select/2';
      });
      
      $('#businessPlanBtn').click(function() {
        window.location.href = '/api/subscriptions/select/3';
      });
      
      // Check for user login status
      fetch('/api/auth/status')
        .then(response => response.json())
        .then(data => {
          const userSection = document.getElementById('userSection');
          if (data.loggedIn) {
            userSection.innerHTML = `
              <div class="user-avatar">${data.user.username.charAt(0).toUpperCase()}</div>
              <div class="dropdown">
                <button class="btn btn-link text-white dropdown-toggle p-0" type="button" id="userDropdown" data-bs-toggle="dropdown">
                  ${data.user.username}
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" href="/profile">Profile</a></li>
                  <li><a class="dropdown-item" href="/settings">Settings</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="/logout">Logout</a></li>
                </ul>
              </div>
            `;
          } else {
            userSection.innerHTML = `<a href="/login" class="btn btn-outline-light btn-sm">Login</a>`;
          }
        })
        .catch(error => {
          console.error('Error checking auth status:', error);
        });
    });
  </script>
</body>
</html>
